<!DOCTYPE html>
<html>

<head>
    <title>HRRR Archive FAQ</title>
    
    <script src="./js/site/siteopen.js"></script>
</head>


<body>
    <a name="TOP"></a>
    <script src="./js/site/sitemenu.js"></script>

    <br>

    <div id="content">      

        <h1 align="center">HRRR Archive at the University of Utah</h1>
        <h2 align="center"><i class="fa fa-info-circle fa-fw" aria-hidden="true"></i>Frequently Asked Questions</h2>
        
             
        
        <div class="alert alert-danger">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <small>The archive system is experiencing issues and is not available at this time. We hope to have the problem resolved soon.
            </small>
        </div>
        
        <div class="alert alert-warning">
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
            <small>If you are looking for today's HRRR output you should download directly from
            <a href="http://www.nomads.ncep.noaa.gov/pub/data/nccf/com/hrrr/prod/">NOMADS</a>.
            </small>
        </div>
            
        <div class="row" id="content">
            <div class=" col-md-3">
                    <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_download_register.html" class="btn btn-danger btn-block">
                    <i class="fa fa-user-plus" aria-hidden="true"></i> Have you Registered?</a>        
            </div>
            <div class="col-md-3">
                    <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_practices.html" class="btn btn-warning btn-block">
                    <i class="far fa-handshake" aria-hidden="true"></i> Best Practices</a>
            </div>
            <div class="col-md-3">
                    <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_FAQ.html" class="btn btn-success btn-block active">
                    <i class="fa fa-info-circle" aria-hidden="true"></i> HRRR FAQ</a>
            </div>
            <div class="col-md-3">
                    <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/cgi-bin/hrrr_download.cgi" class="btn btn-primary btn-block">
                    <i class="fa fa-cloud-download-alt" aria-hidden="true"></i> Web Download Page</a>
            </div>
        </div>

<br>
        
        

  <!-- Tabs -->
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" href="#tab1"><i class="fa fa-globe" aria-hidden="true"></i> About the HRRR archive</a></li>
    <li><a data-toggle="tab" href="#tab2"><i class="fa fa-user" aria-hidden="true"></i> Who archives HRRR?</a></li>
    <li><a data-toggle="tab" href="#tab3"><i class="fa fa-database" aria-hidden="true"></i> Where is the archive?</a></li>
    <li><a data-toggle="tab" href="#tab4"><i class="fa fa-calendar-alt" aria-hidden="true"></i> What days are available?</a></li>
    <li><a data-toggle="tab" href="#tab5"><i class="fa fa-users" aria-hidden="true"></i> Who uses the HRRR archive?</a></li>
    <li><a data-toggle="tab" href="#tab6"><i class="fa fa-paint-brush" aria-hidden="true"></i> Gallery</a></li>
    <li><a data-toggle="tab" href="#tab7"><i class="fa fa-desktop" aria-hidden="true"></i> Tips for CHPC users</a></li>
  </ul>

    <div class="tab-content">
        <div id="tab1" class="tab-pane fade in active">
            <!--<img align=right width="450px" style="padding:5px 15px 5px 5px" src="https://rapidrefresh.noaa.gov/hrrr/hrrrcrefimage">-->
            <iframe align=right width="460" height="355" src="https://www.youtube.com/embed/73vZOPvtQDc?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>
            <h3><i class="fa fa-globe" aria-hidden="true"></i> About the HRRR archive</h3>
            <h3>What is this HRRR archive?</h3>
            <p>This HRRR archive is a collection of output from NCEP's High Resolution Rapid Refresh model. This
               is a model developed by <a href="https://rapidrefresh.noaa.gov/hrrr/" target='_blank'>NOAA ESRL</a>
               and is run operationally every hour at NCEP's Enivronmental Modeling Center.
               It continues to be developed by ESRL.
            <p>The operational HRRR generates hourly forecasts gridded at 3 km 
               for 18 hours over the contiguous United States making it the
               highest spatial and temporal resolution forecast system run by NCEP.
               Details on the variables (page still being worked on) produceed
               by HRRR are available here:
               <a class="btn btn-info" href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/HRRR_archive/hrrr_sfc_table.html">
               HRRR Variables</a>
            <p>HRRR analyses and forecasts are exceptionally valuable to the 
               research community. However, an official HRRR archvie does not exist.
               We began archiving HRRR data in April 2015 to support
               research efforts at the University of Utah. 
               Instead of downloading all available files, we only download files
               most useful to accomplish our research efforts. We realize
               this data is valuable to many others and have made the
               archive publicly accessible for research purposes.
               As of 11 August 2017, the archive contains 39 terabytes of data.
            <div class='alert alert-sm alert-info'>
                <p><i class="fa fa-fw fa-book" aria-hidden="true"></i> Additional details have been published and can be found in <i><a style="color:orangered" href="https://doi.org/10.1016/j.cageo.2017.08.005" target="_blank">Computers and Geosciences</a></i>.
            </div>
            <div class='alert alert-sm alert-info'>
                <p><i class="fa fa-fw fa-database" aria-hidden="true"></i> The HRRR archive has an offical doi: <a style="color:orangered" href="https://doi.org/10.7278/S5JQ0Z5B">10.7278/S5JQ0Z5B</a></i>.
            </div>
            <hr>
            <h3>What files are contained in the HRRR archive?</h3>
            <p>Output files, in GRIB2 format, contained in the archive include:
            
            <div class="panel-group" id="accordion" style="max-width:700px; margin:auto">
            <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapse1"><i class="fa fa-fw fa-globe" aria-hidden="true"></i> Operational HRRR</a>
                </h4>
            </div>
            <div id="collapse1" class="panel-collapse collapse">
                <div class="panel-body">
                    <ul style="padding-left:40px">
                        <li><b>sfc</b>: Surface fields for analyses (beginning April 18, 2015) and forecast hours (beginning July 15, 2016)
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">hrrr.t[00-23]z.wrfsfcf[00-18].grib2</span>
                                <li>File size: ~120 MB    
                            </ul>
                        <li><b>prs</b>: Pressure fields for analyses (beginning April 18, 2015)
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">hrrr.t[00-23]z.wrfprsf00.grib2</span>
                                <li>File size: ~380 MB
                            </ul>
                        <li><b>bufr</b>: Vertical profiles available for KSLC, KODG, and KPVU
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">[KSLC,KODG,KPVU]_[YYYYMMDDHH].buf</span>
                                <li>File size: ~75 KB
                            </ul>
                    </ul>
                </div>
            </div>
            </div>
            <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapse2"><i class="fa fa-fw fa-flask" aria-hidden="true"></i> Experimental HRRR</a>
                </h4>
            </div>
            <div id="collapse2" class="panel-collapse collapse">
                <div class="panel-body">
                    <ul style="padding-left:40px">
                        <li><b>sfc</b>: Surface fields for analyses (beginning December 1, 2016)
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">hrrr.t[00-23]z.wrfsfcf00.grib2</span>
                                <li>File size: ~120 MB
                            </ul>
                    </ul>
                <p>Note: Not all hours are available for the experimental runs.
                </div>
            </div>
            </div>
            <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                <a data-toggle="collapse" data-parent="#accordion" href="#collapse3"><i class="fa fa-fw fa-cogs" aria-hidden="true"></i> Experimental HRRR - Alaska</a>
                </h4>
            </div>
            <div id="collapse3" class="panel-collapse collapse">
                <div class="panel-body">
                    <ul style="padding-left:40px">
                        <li><b>sfc</b>: Surface fields for analyses and forecast hours (beginning December 1, 2016)
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">hrrr.t[00,03,06,09,12,15,18,21]z.wrfsfcf[00-36].grib2</span>
                                <li>File size: ~6 MB or ~100 MB if full file was downloaded
                                <li>Only selected variables retained in early part of archive. Full files downloaded summer 2017.
                            </ul>
                        <li><b>prs</b>: Pressure fields for analyses (beginning December 1, 2016)
                            <ul style="padding-left:40px">
                                <li>File format: <span style="font-family:monospace">hrrr.t[00,03,06,09,12,15,18,21]z.wrfprsf00.grib2</span>
                                <li>File size: ~205 MB
                            </ul>
                    </ul>
                <p>Note: Not all hours are available for the experimental runs.
                </div>
            </div>
            </div>
        </div>
         <p>Note: Some days and hours in our archive may not be available. Either
            the forecast wasn't run that hour (typical for the experimental models),
            or our download scripts failed to download everything.

            <hr>
            <h3>What are GRIB2 files?</h3>
            <p><a href="https://en.wikipedia.org/wiki/GRIB">GRIB2</a>, 
               or Gridded Binary Version 2, is a standard file format used 
               by meteorologists for model data sets. There are several useful 
               tools for working with the data.
               <ul style="padding-left:50px">
                   <li><a href="http://www.cpc.noaa.gov/products/wesley/wgrib2/">wgrib2</a>:
                       a command line utility used to read GRIB2 files.
                   <li><a href="https://pypi.python.org/pypi/pygrib">pygrib</a>:
                       a Python module used to read GRIB2 files.
                   <li><a href="https://www.ncdc.noaa.gov/wct/">NOAA Toolkit</a>:
                       graphical software that can read and visualize GRIB2 files.
                       <span style='color:red'>I highly recomend this tool if you haven't used GRIB2 files before</span>.
               </ul>

                  
            <hr>
            <h3>Where do the HRRR output files come from?</h3>
            <p>The operational HRRR (hrrr) is downloaded via HTTP from the <a href="http://nomads.ncep.noaa.gov/">NOMADS server</a>.
            <p>Experimental HRRR (hrrrX) and HRRR Alaska (hrrrAK) are downloaded via FTP from NOAA ESRL (credentials required).
            <hr>
            <h3>What version of HRRR is in this archive?</h3>
            <p><b>HRRRv1</b> was the operational model prior to August 23, 2016.
            We downloaded the operational HRRR from here: http://nomads.ncep.noaa.gov/pub/data/nccf/nonoperational/com/hrrr/prod/.
            Although the URL says "nonoperational", it was the operational HRRR. The
            files just hadn't been moved to the operational space.
            <p><b>HRRRv2</b> was implemented at NCEP on August 23, 2016 begining
            with the 12z run. That day I
            began downloading from the new URL: <a href="http://nomads.ncep.noaa.gov/pub/data/nccf/com/hrrr/prod/">http://nomads.ncep.noaa.gov/pub/data/nccf/com/hrrr/prod/</a>.
            <p>For more details on the HRRRv2 implementation, check out the 
            following announcement: <a href="http://www.nws.noaa.gov/om/notification/tin16-26rap_hrrrraaa.htm">http://www.nws.noaa.gov/om/notification/tin16-26rap_hrrrraaa.htm</a>
            <p><b>HRRRv3</b> is the current experimental version under development
               and testing at ESRL.
            It is expected to become the operational model in May 2018 
            (<a href="http://www.emc.ncep.noaa.gov/CCS_Science/5.RAPv4_HRRRv3.Q2-2017.pdf" target="_blank">source</a>).
            Version 3 will extend the forecast period for the 00, 06, 12, and 18 run
            out to 36 hours. Version 3 has improved Thompson
            microphysics, imporved MYNN PBL scheme, a land surface model update
            with 15 second MODIS data, and refined roughness lengths for 
            certain land use types with additional imporovments in assimilation methods
            including new dataset like lightning and radar radial velocity. 
            <p><b>HRRRv4</b> will be the next developmental version at ESRL.
             And is expected to become the operational model in 2020. 
             This version will make more use of ensemble modeling methods. 

            <hr>
            <h3>When do we download the HRRR data?</h3>
            <p><b>HRRR</b> is downloaded from NOMADS once a day at 6:35 PM Mountain Time.
            <p><b>HRRR-Alaska</b> is downloaded from ESRL twice a day at 12:35 PM and 6:35 PM Mountain Time.
            <p><b>HRRR-X</b> is downloaded from ESRL twice a day at 12:05 PM and 6:05 PM Mountain Time. 
            <p>Since we retreive HRRR data only once or twice a day (a process that
               may take several hours), this HRRR archive is not meant to be used for real-time or operational products.

            <hr>
            <img align=right \
             width='350px' \
             class='style1' \
             style="margin-left:15px;margin-bottom:15px"\
             src='./images/mouse.jpg' \
             title="We give people a little, and they start asking for a lot.">
            <h3>Vision for the Future</h3>
            <p> At the 2017 Annual AMS meeting I talked with a guy on the the
            AMS Board on Data Stewarship. He said the lack of 
            a HRRR archive was one concern brought up at their board meeting.
            <p>Archiving high resolution model data is an expensive task. 
            This is a growing issue in the atmospheric science community
            as we move to higher resolution models that generate terabytes of
            data annually.
            <p>Perhaps the solution is in cloud computing, where we can "bring the
            data to the computing." An archive on the cloud can be
            kept in one place and researchers can use cloud resources to 
            process the data, perform analyses, and initialize WRF simulations
            without downloading the model output on their own computers. It would
            especially be beneficial if it were possible to effeciently mine the large
            dataset for a specific variable at a point or subgrid
            for a range of dates or times. Perhaps this model data needs to be stored in
            HDF5 format rather than grib2. It would be nice if there was fewer
            redundate data fields between the files. For instance, some fields 
            are availabe in the prs and sfc and nat files.
            The benefits and complications of
            cloud computing were discussed at the
            <a href="http://www.unidata.ucar.edu/events/2017CloudModelingWorkshop/#schedule">
            2017 Modeling Research in the Cloud</a>  Workshop.
            <p>Until those challenges are overcome, I would like to make this
            HRRR archive easily
            available to everyone to demonstrate the interest and need for 
            having such an archive. This archive has already proven beneficial
            to many researchers and has served many applications.
            <p>In the future, it is possible to have server-side data processing
            that generate time series or wind roses for point locations 
            in the HRRR model. My current methods for doing this are extreamly 
            ineffiecient becuase they still require dowloading a temporary file
            for a single variable of the entire grid (which contains about 1.9 
            grid points over the contiguous United States).
            <p> If I were in charge of the HRRR, I would like to see a more 
            rapid data assimilation cycle and run the model every 15 minutes
            out to a 48 hour forecast. This would ultimatly create 7 times as
            much data while prividing a 96 members for time-lagged ensembles.
            My dream of a future weather prediction system that models will be 
            'continuously updating'.
            <p>The main concept of this archvie is to create a HRRR archive in one place so
            researchers don't have to redundantly store local archives, with the
            purpose to provide the data you need, when you need it.
            <p>In short, this project is turning into a classic
            case of one of my favorite children's books <i>If You Give A Mouse A
            Cookie</i> where starting one thing has grown and continues to grow
            into something bigger, doing things I hadn't thought I'd need before.
        </div>

        <div id="tab2" class="tab-pane fade">
			<h3><i class="fa fa-user" aria-hidden="true"></i> Who archives the HRRR data?</h3>
            <p>The HRRR archive at the University of Utah is managed by Brian Blaylock and the
               <a href="http://meso1.chpc.utah.edu/mesowest_overview/" target="_blank">MesoWest group</a>
               on resourses at Utah's <a href="https://www.chpc.utah.edu/" target="_blank">Center for High Performance Computing</a>.
               It can also be found in the University of Utah Hive.
               Please contact <a href="mailto:brian.blaylock@utah.edu">Brian</a> with questions regarding the archive.
            <div align="center">
                <a href="https://www.atmos.utah.edu/"><img align="center" src="./images/UU_logo.png"></a>
                <a href="https://mesowest.org/"><img align="center" src="./images/MesoWest/MesoWest_20th_black.png" style="padding-left:15px"></a>
                <a href="https://www.chpc.utah.edu/"><img align="center" src="./images/chpc_logo3.jpg" style="height:110px;padding-left:15px"></a>
                <a href="https://hive.utah.edu/"><img align="center" src="./images/hive.png" style="height:100px;padding-left:15px"></a>
            </div>
            <hr>
            <h3>Why do we archive the HRRR?</h3>
            <img align=right class='style1' width=400 style="margin-left:20px" src="./images/June2017_NCAR.PNG">
            <p>While you can find current HRRR output at<a href="http://www.nomads.ncep.noaa.gov/">NOMADS</a>,
            there is no official HRRR 
            archive that is publicly and easily available, to our knowledge.
            This "gap" in the NOAA data archives will hopefully be filled in
            the future, seeing that their vision is that all NOAA environmental
            data shall be <i>Discoverable, Accessible, Useable, and Preserved</i>.
            We hope to be part of the solution to that goal.
            <p>This HRRR archive has been created to support various research
            endeavours in the
            Department of Atmospheric Sciences at the Univerisity of Utah.
            Things we do include:
            <ol style="padding-left: 60;">
                <li>Initialize the Weather Research and Forecast (WRF) model with HRRR analyses as initial
                and boundary conditions. <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr.html">More info here</a>.
                <li>Model verification, where HRRR analyses and forecasts are compared to observed conditions.
                <li>Retrospective analysis of high-impact weather events.
                <li>Basic statistics of variables (max, min, mean, percentiles).
            </ol>
            <p> This archive allows us to perform analysis of the HRRR model
                performance, independent of the ESRL folks, for our own research purposes and goals.
            <br>
            <p> You are welcome to use the archive for your own research, but
                as a courtesy, please register and read the Best Practices 
                before downloading from the archive (click buttons at top).
            <p> I know of one other HRRR archive (2013-2016), but these files
                only contain wind variables, and are all zipped up by each day
                (not too easy to retreive data from):
                <a href="https://esrl.noaa.gov/gsd/thredds/catalog/data/retro/hrrr/catalog.html">Here</a>

        </div>

        <div id="tab3" class="tab-pane fade">
            <img src="./images/HRRR_pando.jpg" align="right" width="250px" class="style1" style="margin-left:20px">
            <h3><i class="fa fa-database" aria-hidden="true"></i> Where is the HRRR archive?</h3>
            <p>The archive is physically located at the University of Utah
            Downtown Data Center in Salt Lake City, Utah. It is hosted on 
            Utah's Center for High Performance Computing Pando archive storage 
            system. 
            <p>This object storage system is similar to Amazon's S3 storage,
            but this is less expensive. We are currently using over 40 TB of 
            our 60 TB allocation. At the current storage rate (~150 GB/day)
            I expect the S3 archive will be full around mid-spring.
            <p>But you probably aren't interested in it's physical location.
            You want to know how to download from the archive. Lucky for you, 
            the data is publically available to those outside the University of Utah.
            We only ask that you fill out the registration form before downloading.
            The registration form helps us keep track of the number of people
            who find this data useful, which helps us justify making the archive
            available to you.
            <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_download_register.html" class="btn btn-danger">
            <i class="fa fa-user-plus" aria-hidden="true"></i> Archive Registration</a>
            <p>After registering, you will be redirected to the interactive
            download page. Click the "Scripting Tips" button for instructions 
            to download from Pando with wget or cURL. These tips also show how
            you can target specific variables you are interested without downloading
            the entire file.
                    
            <hr>
            <h3><img class="style1" style="margin-left:20px" src="./images/FallPando.jpg" align="right" width="550px">
            <i class="fa fa-server" aria-hidden="true"></i> Ok, so what is the Pando archive?</h3>
            
            <p><b>Pando</b> is a colony of quanking aspen trees in southern Utah,
                thought to be the oldest and largest living organism in the world,
                linked together by the same root system.
                According to <a href="https://en.wikipedia.org/wiki/Pando_%28tree%29">Wikipedia</a>,
                Pando is Latin for "I spread". 
                The name is fitting for the CHPC object storage system
                becuase of its resiliance and scalability, like
                the tree system.
            <p>The underlying software running Pando is 
               <a href="http://ceph.com/">Ceph</a>, a project supported by RedHat.
               While Ceph can be configered in a few ways, in this archive Ceph
               manages the data objects with the Amazon S3 API. It is a separate
               "island" from the rest of CHPC file system so that output from 
               other programs cannot write directly to it. Instead, files are
               copied to Pando through utilities like rclone or s3cmd.
            <p>Pando is built in three parts. All of these can be scaled to 
               meet needs of the growing archive.
               <ul style="padding-left:50px">
                   <li>9 OSD Servers (16 8TB drives, each) - These contain the data objects.
                   <li>3 Monitors - Monitors keep a map of the data objects. When a request for data is made, these monitors are contacted for the object map and return the object's ID.
                   <li>1 Rados Gateway node - You, as the client, make requests through this gateway for data downloads. 
               </ul>
               <center><small><img src="./images/PANDO_Diagram.png" width="550px"><br>Adapted from Sam Liston</small></center>
               <br>
        </div>            

        <div id="tab4" class="tab-pane fade">
            <h3><i class="fa fa-calendar-alt" aria-hidden="true"></i> What days are available to download?</h3>
            <p>The HRRR archvie began on 18 April 2015 and have continued to
               downlaod since, with few hiccups here and there.
            <p>In the begining, we downloaded operational HRRR analyses
               (i.e. forecast hour 0) for the surface and pressure files.
            <p>Beginning 27 July 2016, we store all the operational forecast
               for the surface fields. Unfortunately, we decided the pressure
               field files (~315 MB) are too large for us to save the forecast hours.
            <p>Experimental verison of the model were later added to the archive.
            <p> In summary:
            <ul style="padding-left: 60px;">
                <li>2015-04-18: The HRRR archive is born! Only HRRR analysis hours (f00) were stored for sfc and prs files.
                <li>2016-07-27: Began storing HRRR 15 hour sfc forecasts.
                <li>2016-08-24: Began storing HRRR 18 hour sfc forecasts (HRRRv2 became operational).
                <li>2016-12-01: Began storing experimental HRRR-Alaska. prs analyses and select sfc variables for analyses and forecasts.
                <li>2016-12-01: Began storing available experimental HRRR surface analyses.
                <li>2017-03-01: Moved HRRR archive from local file system to Pando storage.
                <li>2017-06-08: Began storing all available HRRR-Alaska sfc variables.
            </ul>
        <p>Tip: Browse the interactive <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/cgi-bin/hrrr_download.cgi">
           web download page</a> for a visual sense of
           what data files are available each day.
        <p><a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/HRRR_archive/missing_files_sfc_f00.txt">List of missing hrrr/sfc/f00 files</a> (updated November 17, 2017)
        <p>Note: The HRRRx with Eclipse algorithm for all the forecast hours
                 are available in Pando between August 18-22. Enjoy!
        </div>

        <div id="tab5" class="tab-pane fade">
            <h3><i class="fa fa-users" aria-hidden="true"></i> Who uses the HRRR archive?</h3>
            <img align=right class='style1' style="margin-left:15px;margin-bottom:15px" src='./images/hrrr_users.png' width='450px'>
            <p>Many people are interested in the HRRR archive, including yourself
            (obviously, or else you wouldn't have Googled <i>HRRR archive</i>).
            <p>The initial purpose of this HRRR archive was to serve atmospheric science research at the University
            of Utah, particularly my own research for my Master and PhD degrees.
             For example, I used HRRR analyses to 
            <a href="http://journals.ametsoc.org/doi/abs/10.1175/JAMC-D-16-0216.1">initialize WRF simulations</a>.
            
            <p>The archive is searched for quite often by people like you.
               Since this archive has been published online I have received
               inquiries and download requests from
               National Weather Service employees,
               NASA scientists,
               researchers at the National Institute of Standards and Technology,
               a United State Air Force Captain,
               employees at NVIDIA, Lockheed Martin,
               commercial wind power companies,
               university professors,
               graduate students,
               airline forecasters,
               post docs,
               a bunch of students working on a capstone project,
               and many others.
            <p>For many researchers, having a HRRR archive allows them to 
               use past weather data at high temporal and spatial resolution
               without the need to run their own WRF simulations. This is a
               huge time saver.
            <p>How is the HRRR archive useful to you? Send me an email and let me know.
            <div class="alert alert-success">
                If this archive is useful to you, please contact the most 
                important person you know at NCEP and request they develop an
                official HRRR archive. Thank you <i class="fa fa-smile-o" aria-hidden="true"></i>
            </div>
            </div>

            <div id="tab6" class="tab-pane fade">
            
            <h3><i class="fa fa-paint-brush" aria-hidden="true"></i> Gallery</h3>
            <h3>Online Tools</h3>
                <center>
                <div class="row" id="content">
                <div class=" col-md-1">
                </div>
                <div class=" col-md-2">
                <a class='btn btn-danger' role='button' href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_golf.html" style="width:100%"> <i class="fa fa-map-marker" aria-hidden="true"></i> Point Forecast</a>      
                </div>
                <div class="col-md-2">
                <a class='btn btn-danger' role='button' href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_fires.html" style="width:100%"><i class="fa fa-free-code-camp" aria-hidden="true"></i> Fires Forecast</a>
                </div>
                <div class="col-md-2">
                <a class='btn btn-danger' role='button' href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_custom.html" style="width:100%"> <i class="fa fa-map-o" aria-hidden="true"></i> Custom Maps</a>
                </div>
                <div class="col-md-2">
                <a class='btn btn-danger' role='button' href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/cgi-bin/hrrrX-hrrr.cgi" style="width:100%"> <i class="fa fa-map" aria-hidden="true"></i> Compare Maps</a>
                </div>
                </div>
                </center>
            <hr>

            <img src='./images/OSG_logo.jpg' width='250px' align=RIGHT>
            <h3>HRRR Statistics with Open Science Grid</h3>
            <p>I'm using the Open Science Grid to calculate long term statistics,
                calculated for +/- 15 days for every hour of the day for all
                the HRRR files in our archive.
                I calculate the following percentiles [0,1,2,3,4,5,10,25,33,50,66,75,90,95,96,97,98,99,100].
               <p><a href="https://github.com/blaylockbk/pyBKB_v2/tree/master/OpenScienceGrid">Tell me more!</a>

            <hr>

            <h3>Plot HRRR Data with Python</h3>
                <p>A handy-dandy <a href="https://github.com/blaylockbk/pyBKB_v2/blob/master/demos/plot_HRRR_variables_on_map.ipynb">Jupyter Notebook</a>
                for making various maps. 
                <p>Also, a <a href="https://github.com/blaylockbk/pyBKB_v2/blob/master/BB_goes16/mapping_GOES16_data.ipynb">
                notebook</a> on overlaying GOES-16 images with HRRR data.
            <hr>

            <h3>Initialize WRF</h3>
            <p>I use the HRRR analyses to initialize WRF's boundary and initial conditions.
               Check out my instructions for initializing WRF with the HRRR here:
               <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr.html">
               http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr.html</a>
            
            <hr>

            <h3>Model Verification</h3>
            <p><b>2-day Time Series</b>: Time series graphs of observed values for select
                MesoWest stations and HRRR values for f00, f06, f12, and f18
                for the last two days.
                Check out the <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_golf.html">
                HRRR Point Forecasts</a> page, and select the clock next to a
                station to view verification of the HRRR model for the last two
                days.
                <center><div><img src='http://home.chpc.utah.edu/~u0553130/oper/HRRR_anlys/KSLC/h20.png' width="450px">
                </div></center>
            <br>
            <p><b>"Hovmoller" Diagram:</b> Imagine a Hovmoller diagram with
                forecast hour on the y-axis and valid time on the x-axis.
                These are created for a variable over each HRRR
                forecast hour and compare with the observed value.
                On the <a href="http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/hrrr_golf.html">
                HRRR Point Forecasts</a> page, select the clock next to a
                station and click "Hovmoller".
                <a href="https://github.com/blaylockbk/pyPlots_v2/blob/master/HRRR/HRRR_hovomoller.py"><i class="fa fa-github" aria-hidden="true"></i> GitHub Code</a>
                <center><div><img src='http://home.chpc.utah.edu/~u0553130/oper/HRRR_hovmoller/KSLC/KSLC_air_temp.png' width="450px">
                <img src='http://home.chpc.utah.edu/~u0553130/oper/HRRR_hovmoller/KSLC/KSLC_wind_speed.png' width="450px">
                </div></center>
            
            <hr>
            
            <h3>Composite Percentiles</h3>
            <p>I created 2-year "climatologies" or composites of wind speed,
                 temperature, and other variables for every hour of the day for an almost two year period.
                These may be used for MesoWest range checks to flag suspect or bad observations.
            <p>You can view all my climatological plots in the gallery
               <a href="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/photo_viewer.php"><b>here</b></a>.
               I managed to get the computation time to find the
               max, min, and mean values for the ~2 years of data down to
               20 minutes using 30 processors, (much better than 5 hours on a single
               processor). Brute-force calculations of percentiles takes quite a bit more time and memory.
               1, 5, 10, 90, 95, and 99th percentiles where done for each hour of every day
               in the two years, and those took about one hour (download time from Pando and calculation) per variable.
            <p>The HRRR analyses mean winds are comparable with the results of
               <a href="http://www.sciencedirect.com/science/article/pii/S0960148116309363" target="_blank">
               James et al. 2017</a>.
            <p><a href="https://github.com/blaylockbk/pyBKB_v2/blob/master/BB_HRRR/HRRR_S3_climo_MaxMinMean_hourly_multipro.py">
                See code here <i class="fa fa-github-square" aria-hidden="true"></i></a>
               
               <!-- Carousel -->
               <div id="myCarousel" class="carousel slide" data-ride="carousel" style="width:550px; margin:auto">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel" data-slide-to="1"></li>
                    <li data-target="#myCarousel" data-slide-to="2"></li>
                    <li data-target="#myCarousel" data-slide-to="3"></li>
                </ol>
                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/hrrr_Gust_max.png" alt="Max Wind Gust">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/percentile/wind_10m_TEST/hrrr_wind_10m_TEST_99th_h14.png" alt="Wind 99th Percentile">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/hrrr_temp_2m_min.png" alt="Min Temperature">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/hrrr_Lightning_sum.png" alt="Sum Lightning">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/z_hrrr_landuse.png" alt="HRRR Landuse">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/climo/z_hrrr_topography.png" alt="HRRR Topography">
                    </div>
                </div>
                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
               </div>
               <!--(end of carousel)-->

            <hr>
            <h3>Case Studies</h3>
            <p> Investigated gravity wave in St. Louis and thunderstorms in Atlanta.
               <!-- Carousel -->
               <div id="myCarousel2" class="carousel slide" data-ride="carousel" style="width:550px; margin:auto">
                <!-- Indicators -->
                <ol class="carousel-indicators">
                    <li data-target="#myCarousel2" data-slide-to="0" class="active"></li>
                    <li data-target="#myCarousel2" data-slide-to="1"></li>
                    <li data-target="#myCarousel2" data-slide-to="2"></li>
                    <li data-target="#myCarousel2" data-slide-to="3"></li>
                </ol>
                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div class="item active">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/GravityWave_2017-04-05/map_reflec_f00/valid_2017-04-05_1700_f00.png" alt="Reflectivity analysis">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/GravityWave_2017-04-05/map_reflec_f16/valid_2017-04-05_1700_f16.png" alt="Reflectivity f16">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/GravityWave_2017-04-05/map_gust_f00/valid_2017-04-05_1700_f00.png" alt="Wind Gust Analysis">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/GravityWave_2017-04-05/map_gust_f16/valid_2017-04-05_1700_f16.png" alt="Wind Gust f16">
                    </div>
                    <div class="item">
                        <img src="http://home.chpc.utah.edu/~u0553130/PhD/HRRR/GravityWave_2017-04-05/pollywog/KSPI_pollywog_wind_speed.png" alt="Pollywog">
                    </div>
                </div>
                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel2" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel2" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
               </div>
               <!--(end of carousel)-->

               <hr>
               <p>Quantify inversion strength during the Utah Fine Particulate Air Quality Study, January 2017.
               <iframe width="560" height="315" src="https://www.youtube.com/embed/jup9D_xbG1o?rel=0" frameborder="0" allowfullscreen></iframe>
               <hr>
               <p>New England Snow Storm, March 13-14 2017
               <iframe width="560" height="315" src="https://www.youtube.com/embed/73vZOPvtQDc?rel=0" frameborder="0" allowfullscreen></iframe>
               <hr>
               <p>Great Salt Lake surface temperature (before HRRR assimilation was fixed)
               <iframe width="560" height="315" src="https://www.youtube.com/embed/PC72-dsTrS4?rel=0" frameborder="0" allowfullscreen></iframe>

                <hr>
                <h3>Other People</h3>
                <p> Matt Lammers from NASA combined HRRR 925 mb winds with
                    GMI and IMERG precipitation data for visulaization of Hurricanes. 
                    <ul style="padding-left:50px">
                        <li><a href="https://storm.pps.eosdis.nasa.gov/storm/cesium/Spiral.html">Harvey</a>
                        <li><a href="https://storm.pps.eosdis.nasa.gov/storm/cesium/SpiralLongMatthew.html">Matthew</a>
                    </ul>
        </div>

        <div id="tab7" class="tab-pane fade">
            <h3><i class="fa fa-desktop" aria-hidden="true"></i> Tips for CHPC Users</h3>
            <p>Do you work/study at the University of Utah, too? Cool! Go Utes!!
            Here are a few helpful tips that will make your life easier. That is, 
            if your life involves using HRRR data from our handy archive.
            Please share with me cool stuff you learn! 
            
            <hr>
            <h3>I have stuff in my own Pando buckets. How can I view those files in a browser?</h3>
            <p>The HRRR download page is a custom-built interface for accessing files in the HRRR buckets,
            but what if you have your own buckets in Pando? You're in luck, 
            becuase I created this more generic web interface for viewing and downloading 
            file objects in your Pando buckets that look more like the Apache file explorer.
            <p><center><a href='http://home.chpc.utah.edu/~u0553130/Brian_Blaylock/cgi-bin/generic_pando_download.cgi' class='btn btn-success'>
            Pando Content Viewer
            </a></center>

            <hr>
            <h3>Is the archive on the local file system?</h3>
            <p>Yes, we keep the most recent month (maybe a bit more)
               on the horel-group/archive file system. Just modifiy the date in
               the example below to get to that directory.
            <div class="well well-sm"><span style="font-family:monospace">/uufs/chpc.utah.edu/common/home/horel-group/archive/<b>YYYYMMDD</b>/models/</span></div>
            <p>Then navigate to the HRRR directory you are interested:
                <ul style="padding-left: 60;">
                <li>hrrr
                <li>hrrrX
                <li>hrrr_alaska
                </ul>
            <p>However, be aware that as disk space on horel-group grows, files
               are compressed and removed. In the future, HRRR model output 
               wont be availalbe in the home directory.
               

            <hr>
            <h3>Want a behind-the-scenes tour of the HRRR archive?</h3>
            <p>The process we use to downloading HRRR and move HRRR to the
            Pando archive system is documented on GitHub.
            <a class='btn btn-primary' href="https://github.com/blaylockbk/HorelS3-Archive/">Horel-S3 <i class="fab fa-github fa-fw" aria-hidden="true"></i></a>

            <hr>
            <h3>How do I get the HRRR data if what I'm looking for is compressed?</h3>
            <div class="alert alert-danger"> 
            There is still some HRRR data that is compressed on the local file system
            but it's much quicker to get it from PANDO. Still, this may be
            useful for getting other stuff out of the compressed archive, so I'll
            keep it here as a reference. (It took me many web searches before I
            figured out how to make this work, so I don't want to remove this
            token of knowledge.)
            </div>

            <p>If you find that what you're looking for is compressed, the
            following instructions will help get what you need:
            <ol style="padding-left:60px">
                
                <li>
                    <p>Copy the <b>models.tar.gz</b> file to your own space. 
                    Yes, this is large (~20 GB). It contains
                    all the model data we archive (I warned you that this was
                    inefficient).
                <li>
                    <p>Before untarring the entire directory, you can check if
                       it contains the files you need with something like this:
                    <div class="well well-sm" style="font-family:'Courier';">less -p /hrrr/hrrr.t models.tar.gz</div>
                <li>
                    <p>You can untar the entire file, but that would take a looooonng
                    time, and you don't need everything in that file anyways.
                    <p>You can extract just the HRRR data with this one-liner...(still
                    takes a bit of time)
                    <div class="well well-sm" style="font-family:'Courier';">tar -xzvf models.tar.gz 20160101/models/hrrr/</div>

                    <p> Or you can get more creative and use the following
                    to get just the pressure fields. (In this case
                    it helps to know the contents of the tarred file).
                    Starting in the directory you wish to copy the
                    files into, type...
                    <div class="well well-sm" style="font-family:'Courier';">
                    tar -zxvf models.tar.gz --wildcards --no-anchored 'hrrr.t*z.wrfprsf00.grib2'
                    </div>
            </ol>
            
        </div>
    </div> <!--tab-conent--> 
</div><!--content-->  

<div class='well well-sm' style="padding-left:10px;padding-right:10px;margin-bottom:-20">
    <div class='container'>
        <h3>Citation Details</h3>
        <p><i class="fa fa-fw fa-database" aria-hidden="true"></i> HRRR archive data:
        <p style='padding-left:55px'> doi: <a href="https://doi.org/10.7278/S5JQ0Z5B" target="_blank">10.7278/S5JQ0Z5B</a>
        <p><i class="fa fa-fw fa-book" aria-hidden="true"></i> Journal article describing how the archive is built:
        <p style="padding-left:55px"><i>Blaylock B., J. Horel and S. Liston, 2017: Cloud Archiving and
            Data Mining of High Resolution Rapid Refresh Model Output. 
            Computers and Geosciences. Accepted.
            <a herf="https://doi.org/10.1016/j.cageo.2017.08.005" target="_blank">https://doi.org/10.1016/j.cageo.2017.08.005</a></i>
    </div>
</div>

<script src="./js/site/siteclose.js"></script>
</div><!---->
</body>

</html>